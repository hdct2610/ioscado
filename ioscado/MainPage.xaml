<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ioscado.MainPage"
             BackgroundColor="Black"
             Title="">

    <Grid>
        <BoxView IsVisible="True" Opacity="0.3">
            <BoxView.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#0A84FF" Offset="0.1" />
                    <GradientStop Color="Black" Offset="0.5" />
                    <GradientStop Color="#30D158" Offset="0.9" />
                </LinearGradientBrush>
            </BoxView.Background>
        </BoxView>

        <Grid RowDefinitions="Auto, Auto, Auto, *" Padding="20,10">

            <StackLayout Grid.Row="0" Margin="0,20,0,20">
                <Label Text="SCOUT AI" 
                       TextColor="White" 
                       FontSize="34" 
                       FontAttributes="Bold" 
                       FontFamily="Helvetica Neue"/>
                <Label Text="Intelligence System v26.0" 
                       TextColor="#8E8E93" 
                       FontSize="14" 
                       CharacterSpacing="2"/>
            </StackLayout>

            <Border Grid.Row="1" Stroke="Transparent" BackgroundColor="#2C2C2E" StrokeShape="RoundRectangle 20" Margin="0,0,0,20">
                <Border.Shadow>
                    <Shadow Brush="#0A84FF" Offset="0,10" Radius="20" Opacity="0.2"/>
                </Border.Shadow>

                <StackLayout Padding="15" Spacing="15">
                    <Button x:Name="btnNhapDuLieu"
                            Text="SCAN DATA STREAM"
                            Clicked="OnNhapDuLieuClicked"
                            TextColor="White"
                            FontAttributes="Bold"
                            CornerRadius="12"
                            HeightRequest="50">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#007AFF" Offset="0.0"/>
                                <GradientStop Color="#5AC8FA" Offset="1.0"/>
                            </LinearGradientBrush>
                        </Button.Background>
                    </Button>

                    <Button Text="GENERATE MASTER VERDICT"
                            Clicked="OnPromptKetHopClicked"
                            TextColor="Black"
                            FontAttributes="Bold"
                            CornerRadius="12"
                            HeightRequest="45">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#30D158" Offset="0.0"/>
                                <GradientStop Color="#80F098" Offset="1.0"/>
                            </LinearGradientBrush>
                        </Button.Background>
                    </Button>
                </StackLayout>
            </Border>

            <Border Grid.Row="2" Stroke="#3A3A3C" StrokeThickness="1" BackgroundColor="#1C1C1E" StrokeShape="RoundRectangle 15" Margin="0,0,0,20" Padding="15">
                <StackLayout Spacing="10">
                    <Label Text="TARGET MODE" TextColor="#636366" FontSize="10" FontAttributes="Bold"/>
                    <RadioButton x:Name="radPrompt1" Content="Super (Thinking)" IsChecked="True" TextColor="White"/>
                    <RadioButton x:Name="radPrompt2" Content="Easy (Pro)" TextColor="White"/>
                    <RadioButton x:Name="radPrompt3" Content="Assassin Creep (Pro)" TextColor="White"/>
                </StackLayout>
            </Border>

            <CollectionView x:Name="MatchList" Grid.Row="3" SelectionMode="None">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border Margin="0,0,0,12" StrokeThickness="0" StrokeShape="RoundRectangle 18" BackgroundColor="{Binding RowBackgroundColor}">
                            <Grid ColumnDefinitions="70, *, 80" Padding="15">

                                <Border Grid.Column="0" Stroke="#3A3A3C" StrokeThickness="1" BackgroundColor="#2C2C2E" StrokeShape="RoundRectangle 12" HeightRequest="50" WidthRequest="50" VerticalOptions="Center">
                                    <Label Text="{Binding DisplayTime}" 
                                           HorizontalTextAlignment="Center" VerticalTextAlignment="Center"
                                           TextColor="#0A84FF" FontSize="11" FontAttributes="Bold"/>
                                </Border>

                                <StackLayout Grid.Column="1" VerticalOptions="Center" Padding="10,0">
                                    <Label Text="{Binding LeagueName}" TextColor="{Binding LeagueColor}" FontSize="10" TextTransform="Uppercase" CharacterSpacing="1"/>
                                    <Label Text="{Binding MatchTitle}" TextColor="White" FontSize="15" FontAttributes="Bold" LineBreakMode="TailTruncation"/>
                                </StackLayout>

                                <StackLayout Grid.Column="2" VerticalOptions="Center" HorizontalOptions="End">
                                    <Button Text="COPY"
                                            FontSize="10"
                                            HeightRequest="32"
                                            WidthRequest="70"
                                            CornerRadius="16"
                                            Padding="0"
                                            BackgroundColor="#3A3A3C"
                                            TextColor="White"
                                            Clicked="OnSaoChepClicked"
                                            CommandParameter="{Binding .}"/>

                                    <Label Text="{Binding BlvCount, StringFormat='• {0} Nguồn'}"
                                           TextColor="#636366" FontSize="9" HorizontalTextAlignment="Center" Margin="0,4,0,0"/>
                                </StackLayout>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </Grid>
    </Grid>
</ContentPage>